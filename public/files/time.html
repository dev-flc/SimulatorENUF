<!DOCTYE html>
<html>
<head>
</head>
<body onload="timecarga()">

    <form action="mapa.html" method="get" name="enviarformulario">
        <input type="text" value="12123">
        <button type="submit" id="enviar">Enviar</button>
    </form>
        <input type="hidden" value="1" id="tiempo">
        <div >
            <p>
        <span id="minutos">0</span>:<span id="segundos">0</span>
            </p>
    <hr>
        </div>
</body>
    <script type="text/javascript">
    //setInterval
    var cronometro;

    function detenerse()
    {
        alert("me voy");
        clearInterval(cronometro);
        document.enviarformulario.submit();

    }


    function timecarga()
    {
        contador_s =0;
        contador_m =0;
        s = document.getElementById("segundos");
        m = document.getElementById("minutos");
        tiempo = document.getElementById("tiempo").value;


        cronometro = setInterval(
            function(){
                if(contador_s==60)
                {
                    contador_s=0;
                    contador_m++;
                    m.innerHTML = contador_m;

                    if(contador_m==60)
                    {
                        contador_m=0;
                    }

                }
                if(contador_m+':'+contador_s==tiempo+':'+00)
                {
                    detenerse();
                }
                s.innerHTML = contador_s;
                contador_s++;

            }
            ,1000);

    }

    </script>

</html>
